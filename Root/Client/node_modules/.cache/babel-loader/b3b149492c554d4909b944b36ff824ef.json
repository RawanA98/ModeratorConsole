{"ast":null,"code":"var _jsxFileName = \"/home/rawan/Desktop/DailyMotion/moderation/src/Components/ActionsList.tsx\";\nimport React from \"react\";\nimport { GET_USERS } from \"../App\";\nimport { useState } from \"react\";\nimport MutationButton from './ActionsButton';\nimport DifferenButton from './DifferentButton';\nimport { gql, useMutation } from \"@apollo/client\";\nimport { FormControl } from \"react-bootstrap\";\nconst MediaCensorMutation = gql`\n    mutation Mutation($input: MediaInput!) {\n        mediaCensor(input: $input) {\n            status\n        }\n    }\n`;\nconst MediaValidMutation = gql`\n    mutation Mutation($input: MediaInput!) {\n        mediaValid(input: $input) {\n            status\n        }\n    }\n`;\nexport default function ActionsList({\n  clientID,\n  refetch\n}) {\n  const [status, setStatus] = useState('');\n  const [reason, setReason] = useState('');\n  const [mutationCensor] = useMutation(MediaCensorMutation, {\n    variables: {\n      input: {\n        id: clientID,\n        reason: reason\n      }\n    },\n    refetchQueries: [{\n      query: GET_USERS\n    }]\n  });\n  const [mutationValid] = useMutation(MediaValidMutation, {\n    variables: {\n      input: {\n        id: clientID,\n        reason: reason\n      }\n    },\n    refetchQueries: [{\n      query: GET_USERS\n    }],\n    onCompleted: () => {\n      setStatus('');\n    }\n  });\n  function handleChanges(value) {\n    setReason('');\n    setStatus(value);\n  }\n  console.log('reason', reason);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, status && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 20\n    }\n  }, status), /*#__PURE__*/React.createElement(FormControl, {\n    type: \"text\",\n    required: true,\n    value: reason,\n    placeholder: \"Reason\",\n    onChange: e => setReason(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MutationButton, {\n    mutationFunction: mutationCensor,\n    buttonText: \"Censor\",\n    handleChanges: handleChanges,\n    buttonVariantColor: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MutationButton, {\n    mutationFunction: mutationValid,\n    buttonText: \"Valid\",\n    handleChanges: handleChanges,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DifferenButton, {\n    refetch: refetch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }));\n}","map":{"version":3,"names":["React","GET_USERS","useState","MutationButton","DifferenButton","gql","useMutation","FormControl","MediaCensorMutation","MediaValidMutation","ActionsList","clientID","refetch","status","setStatus","reason","setReason","mutationCensor","variables","input","id","refetchQueries","query","mutationValid","onCompleted","handleChanges","value","console","log","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","required","placeholder","onChange","e","target","mutationFunction","buttonText","buttonVariantColor"],"sources":["/home/rawan/Desktop/DailyMotion/moderation/src/Components/ActionsList.tsx"],"sourcesContent":["\nimport React from \"react\";\nimport { GET_USERS } from \"../App\";\nimport { useState } from \"react\";\nimport MutationButton from './ActionsButton';\nimport DifferenButton from './DifferentButton';\nimport { gql, useMutation } from \"@apollo/client\";\nimport { FormControl } from \"react-bootstrap\";\n\ninterface ActionsListProps {\n    clientID : number;\n    refetch: any;\n}\nconst MediaCensorMutation = gql`\n    mutation Mutation($input: MediaInput!) {\n        mediaCensor(input: $input) {\n            status\n        }\n    }\n`\nconst MediaValidMutation = gql`\n    mutation Mutation($input: MediaInput!) {\n        mediaValid(input: $input) {\n            status\n        }\n    }\n`\n\nexport default function ActionsList({clientID,refetch}: ActionsListProps) {\n    const [status, setStatus] = useState('');\n    const [reason, setReason] = useState<string>('');\n\n    const [mutationCensor] = useMutation(MediaCensorMutation,{\n        variables:{ input: { id: clientID , reason: reason}},\n        refetchQueries: [{ query: GET_USERS }]\n    });\n    const [mutationValid] = useMutation(MediaValidMutation,{\n        variables:{ input: { id: clientID , reason: reason}},\n        refetchQueries: [{ query: GET_USERS }], \n        onCompleted: () => {\n            setStatus('');\n        }\n    });\n\n    function handleChanges(value:string){\n        setReason('');\n        setStatus(value);\n    }\n\n    console.log('reason',reason);\n    return <>\n        {status && <p>{status}</p>}\n        <FormControl type=\"text\" required value={reason} placeholder=\"Reason\" onChange={(e) => setReason(e.target.value)}/>\n        {/* Use MutationButton with different mutations and text */}\n        <MutationButton mutationFunction={mutationCensor} buttonText=\"Censor\" handleChanges={handleChanges} buttonVariantColor={\"\"}/>\n        <MutationButton mutationFunction={mutationValid} buttonText=\"Valid\" handleChanges={handleChanges}/>\n        <DifferenButton refetch={refetch}/>\n    </>\n}\n"],"mappings":";AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,QAAQ;AAClC,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,cAAc,MAAM,iBAAiB;AAC5C,OAAOC,cAAc,MAAM,mBAAmB;AAC9C,SAASC,GAAG,EAAEC,WAAW,QAAQ,gBAAgB;AACjD,SAASC,WAAW,QAAQ,iBAAiB;AAM7C,MAAMC,mBAAmB,GAAGH,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAMI,kBAAkB,GAAGJ,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,eAAe,SAASK,WAAWA,CAAC;EAACC,QAAQ;EAACC;AAAyB,CAAC,EAAE;EACtE,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAS,EAAE,CAAC;EAEhD,MAAM,CAACe,cAAc,CAAC,GAAGX,WAAW,CAACE,mBAAmB,EAAC;IACrDU,SAAS,EAAC;MAAEC,KAAK,EAAE;QAAEC,EAAE,EAAET,QAAQ;QAAGI,MAAM,EAAEA;MAAM;IAAC,CAAC;IACpDM,cAAc,EAAE,CAAC;MAAEC,KAAK,EAAErB;IAAU,CAAC;EACzC,CAAC,CAAC;EACF,MAAM,CAACsB,aAAa,CAAC,GAAGjB,WAAW,CAACG,kBAAkB,EAAC;IACnDS,SAAS,EAAC;MAAEC,KAAK,EAAE;QAAEC,EAAE,EAAET,QAAQ;QAAGI,MAAM,EAAEA;MAAM;IAAC,CAAC;IACpDM,cAAc,EAAE,CAAC;MAAEC,KAAK,EAAErB;IAAU,CAAC,CAAC;IACtCuB,WAAW,EAAEA,CAAA,KAAM;MACfV,SAAS,CAAC,EAAE,CAAC;IACjB;EACJ,CAAC,CAAC;EAEF,SAASW,aAAaA,CAACC,KAAY,EAAC;IAChCV,SAAS,CAAC,EAAE,CAAC;IACbF,SAAS,CAACY,KAAK,CAAC;EACpB;EAEAC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAACb,MAAM,CAAC;EAC5B,oBAAOf,KAAA,CAAA6B,aAAA,CAAA7B,KAAA,CAAA8B,QAAA,QACFjB,MAAM,iBAAIb,KAAA,CAAA6B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIvB,MAAU,CAAC,eAC1Bb,KAAA,CAAA6B,aAAA,CAACtB,WAAW;IAAC8B,IAAI,EAAC,MAAM;IAACC,QAAQ;IAACZ,KAAK,EAAEX,MAAO;IAACwB,WAAW,EAAC,QAAQ;IAACC,QAAQ,EAAGC,CAAC,IAAKzB,SAAS,CAACyB,CAAC,CAACC,MAAM,CAAChB,KAAK,CAAE;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAAC,eAEnHpC,KAAA,CAAA6B,aAAA,CAAC1B,cAAc;IAACwC,gBAAgB,EAAE1B,cAAe;IAAC2B,UAAU,EAAC,QAAQ;IAACnB,aAAa,EAAEA,aAAc;IAACoB,kBAAkB,EAAE,EAAG;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAAC,eAC7HpC,KAAA,CAAA6B,aAAA,CAAC1B,cAAc;IAACwC,gBAAgB,EAAEpB,aAAc;IAACqB,UAAU,EAAC,OAAO;IAACnB,aAAa,EAAEA,aAAc;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CAAC,eACnGpC,KAAA,CAAA6B,aAAA,CAACzB,cAAc;IAACQ,OAAO,EAAEA,OAAQ;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAC,CACpC,CAAC;AACP"},"metadata":{},"sourceType":"module"}